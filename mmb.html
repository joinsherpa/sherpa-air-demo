<!DOCTYPE html>
<html lang="en">
  <head>
    <title>sherpa°AIR Manage Booking</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!--Bootstrap, custom CSS, Material Icons-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <script
      src="https://sdk.joinsherpa.io/widget.js?appId=spc4NTA5MD"
      defer
    ></script>

    <!--custom JavaScript file, jQuery-->
    <script
      src="https://code.jquery.com/jquery-3.6.3.js"
      integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
      integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
      crossorigin="anonymous"
    ></script>
    <script src="javascript/main.js"></script>
  </head>

  <!--custom onLoad function gets today's date and put the dates in the date selector fields-->
  <body onload="populateMMB()">
    <!--navigation bar start-->
    <div id="nav-container"></div>

    <script>
      $(function () {
        $('#nav-container').load('navbar.html');
      });
    </script>
    <!--navigation bar end-->

    <br />

    <div class="container">
      <h3 id="bookingRef">Booking #</h3>
    </div>

    <div class="container">
      <div class="row mmb_buttons">
        <div class="col" style="text-align: center">
          <button class="btn wide">
            <span class="material-icons">flight_takeoff</span>
            <p>Change flight</p>
          </button>
        </div>
        <div class="col" style="text-align: center">
          <button class="btn wide">
            <span class="material-icons">airline_seat_recline_extra</span>
            <p>Change seat</p>
          </button>
        </div>
        <div class="col" style="text-align: center">
          <button class="btn wide">
            <span class="material-icons">cancel</span>
            <p>Cancel booking</p>
          </button>
        </div>
        <div class="col" style="text-align: center">
          <button class="btn wide">
            <span class="material-icons">grade</span>
            <p>Upgrade</p>
          </button>
        </div>
        <div class="col" style="text-align: center">
          <button class="btn wide">
            <span class="material-icons">work</span>
            <p>Baggage</p>
          </button>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="callout">
        <div class="row">
          <div class="col">
            <h4>Visa & Travel Requirements</h4>
            <p>Be sure to check the requirements for your trip</p>
          </div>
          <div class="col" style="text-align: right">
            <button
              onClick="document.getElementById('sherpa-trip-element').scrollIntoView();"
              class="btn"
            >
              Check Requirements
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <h4 id="departTitle">Departing flight</h4>
      <p id="outboundDepartureDate"></p>
      <div class="row">
        <div class="col mmb_box_left">
          <div class="row">
            <div class="col" style="text-align: center">
              <p id="departTime">12:00</p>
              <p id="departureOrigin"></p>
            </div>
            <div id="middleColDep" style="text-align: center" class="col"></div>
            <div class="col" style="text-align: center">
              <p id="arriveTime">18:00</p>
              <p id="departureDestination"></p>
            </div>
          </div>
        </div>
        <div class="col mmb_box_right">
          <p>Economy class</p>
          <p>1 Adult</p>
        </div>
      </div>
      <br>
      <button style="display:none" id="requirementsToggle" onclick="toggleRequirements(this)" class="btn" >Click to show travel requirements for this trip</button>
      <div style="display:none" id="requirementsAll"></div>
      <br />
      <div id="VIflights" style="display: none">
        <p id="outboundDepartureDate2"></p>
        <div class="row">
          <div class="col mmb_box_left">
            <div class="row">
              <div class="col" style="text-align: center">
                <p>16:20</p>
                <p id="departureOrigin">Lisbon<br />(LIS)</p>
              </div>
              <div class="col" style="text-align: center">
                <p>01:30 (+1)</p>
                <p id="departureOrigin">Istanbul<br />(IST)</p>
              </div>
              <div class="col" style="text-align: center">
                <p>13:25 (+1)</p>
                <p id="departureDestination">Maputo<br />(MPM)</p>
              </div>
            </div>
          </div>
          <div class="col mmb_box_right">
            <p>Economy class</p>
            <p>1 Adult</p>
          </div>
        </div>
      </div>
      <br>
      <button style="display:none" id="requirementsToggle2" onclick="toggleRequirements(this)" class="btn" >Click to show travel requirements for this trip</button>
      <div style="display:none" id="requirementsAll2"></div>

      <div class="container" id="returnSegment">
        <h4>Return flight</h4>
        <p id="returnDepartureDate"></p>
        <div class="row">
          <div class="col mmb_box_left">
            <div class="row">
              <div class="col" style="text-align: center">
                <p>12:00</p>
                <p id="returnOrigin"></p>
              </div>
              <div class="col">
                <hr width="100%" color="white" />
              </div>
              <div class="col" style="text-align: center">
                <p>18:00</p>
                <p id="returnDestination"></p>
              </div>
            </div>
          </div>
          <div class="col mmb_box_right">
            <p>Economy class</p>
            <p>1 Adult</p>
          </div>
        </div>
      </div>
      <br />

      <div class="container">
        <div id="bookingConfModal" class="modal">
          <div class="modal-content">
            <img src="css/images/booking_confirmation.png" />
          </div>
        </div>
        <div id="visaMarketingModal" class="modal">
          <div class="modal-content">
            <img src="css/images/marketing_email.png" />
          </div>
        </div>
      </div>

      <div class="container">
        <button class="btn" onclick="openBookingConfirmationEmail()">
          See booking confirmation email
        </button>
        <button class="btn" onclick="openMarketingEmail()">
          See eVisa marketing email
        </button>
      </div>

      <br /><br />
      <div
        class="container"
        id="sherpa-trip-element"
        style="background-color: white"
      ></div>
      <button class="btn" onclick="deepLink()">See on sherpa°</button>
    </div>
    <br />

    <script>
      elementConfig = buildElement();

      function onSherpaEvent(event) {
        // Ensure that the sdk is loaded before creating the element:
        if (
          event.type === 'sdkLoaded' &&
          getQueryString().get('destination') != 'MPM'
        ) {
          $sherpa.V2.createElement('trip', elementConfig).mount(
            '#sherpa-trip-element'
          );
        }
      }
    </script>
  </body>
  <footer>
    <!--footer start-->
    <div id="footer-container"></div>
    <script>
      $(function () {
        $('#footer-container').load('footer.html');
      });
    </script>
    <!--footer end-->
  </footer>
</html>
